%html
  %head
    %meta( charset="utf-8" )
    %meta( http-equiv="X-UA-Compatible" content="IE=edge" )
    %meta( name="viewport" content="width=device-width, initial-scale=1" )
    %meta( name="description" content="" )
    %meta( name="author" content="" )
    %link( ref="icon" href="/favicon.png" )
    %title TeamDG::#{@title}

    /= Bootstrap core CSS
    %link{ href: '/bower_components/bootstrap/dist/css/bootstrap.min.css', rel: 'stylesheet' }
    %link{ href: '/bower_components/bootstrap-datepicker/dist/css/bootstrap-datepicker3.min.css', rel: 'stylesheet' }
    %link{ href: '/bower_components/metisMenu/dist/metisMenu.min.css', rel: 'stylesheet' }
    %link{ href: '/bower_components/startbootstrap-sb-admin-2/dist/css/timeline.css', rel: 'stylesheet' }
    %link{ href: '/bower_components/startbootstrap-sb-admin-2/dist/css/sb-admin-2.css', rel: 'stylesheet' }

    /= Font Awesome
    %link{ rel: 'stylesheet', href: '/bower_components/font-awesome/css/font-awesome.min.css' }

    /= Custom css
    %link{ href: '/css/styles.css', rel: 'stylesheet' }

  %body
    %script{ src: '/bower_components/jquery/dist/jquery.min.js' }

    .wrapper
      %nav.navbar.navbar-default.navbar-static-top{ role: 'navigation', style: 'margin-bottom: 0' }
        .navbar-header
          %button.navbar-toggle{ type: 'button', data: { toggle: 'collapse', target: '.navbar-collapse' } }
            %span.sr-only Toggle navigation
            %span.icon-bar
            %span.icon-bar
            %span.icon-bar
          %a.navbar-brand{ href: url('/') } TeamDG
        %ul.nav.navbar-top-links.navbar-right
          %li.dropdown
            %a.dropdown-toggle{ data: { toggle: 'dropdown' }, href: '#' } #{icon('user', true)} #{icon('caret-down', true)}
            %ul.dropdown-menu.dropdown-user
              %li
                %a{ href: '#' } #{icon('user', true)} User Profile
              %li
                %a{ href: '#' } #{icon('gear', true)} Settings
              %li.divider
              %li
                %a{ href: url('/login') } #{icon('sign-out', true)} Settings

        .navbar-default.sidebar{ role: 'navigation' }
          .sidebar-nav.navbar-collapse
            %ul.nav.in#side-menu
              %li
                %a{ href: url('/dashboard') } #{icon('dashboard', true)} Dashboard
              %li
                %a{ href: url('/events/') }
                  #{icon('calendar', true)}
                  %span Events
                  %span.badge.pull-right #{Event.all.count}
              %li
                %a{ href: url('/event/new') }
                  #{icon('plus', true)}
                  %span New Event
              - if request.path_info.include?('/event/')
                %li
                  %a{ href: '#' }
                    #{icon('sitemap', true)}
                    #{@event.name}
                    %span.fa.arrow
                  %ul.nav.nav-second-level.collapse.in{ 'aria-expanded': 'true' }
                    %li
                      %a{ href: url("/event/#{@event.id}/settings") }
                        Settings
                        %span.pull-right.fa.fa-cogs
                    %li
                      %a{ href: url("/event/#{@event.id}/team/") }
                        Teams
                        %span.pull-right.fa.fa-bus
                    %li
                      %a{ href: url("/event/#{@event.id}/rosters") }
                        Rosters
                        %span.pull-right.fa.fa-users
                    %li
                      %a{ href: '#' }
                        Matches
                        %span.fa.arrow
                      %ul.nav.nav-third-level.collapse
                        %li
                          %a{ href: url("/event/#{@event.id}/matches") }
                            Event Matches
                            %span.pull-right.fa.fa-calendar-plus-o
                        %li
                          %a{ href: url("/event/#{@event.id}/group/matches") }
                            Group Matches
                            %span.pull-right.fa.fa-calendar-minus-o
                        %li
                          %a{ href: url("/event/#{@event.id}/team/matches") }
                            Team Matches
                            %span.pull-right.fa.fa-calendar-check-o
                        %li
                          %a{ href: url("/event/#{@event.id}/player/matches") }
                            Player Matches
                            %span.pull-right.fa.fa-calendar-o

      #page-wrapper{ style: 'min-height: 635px' }
        .row
          .col-lg-12= yield


    %script{ src: '/bower_components/bootstrap/dist/js/bootstrap.min.js' }
    %script{ src: '/bower_components/bootstrap-validator/dist/validator.min.js' }
    %script{ src: '/bower_components/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js' }
    %script{ src: '/bower_components/startbootstrap-sb-admin-2/dist/js/sb-admin-2.js' }
    %script{ src: '/bower_components/metisMenu/dist/metisMenu.min.js' }

