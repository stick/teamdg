%ol.breadcrumb
  %li
    %a{ href: url("/event/#{@team.event.id}") } #{@team.event.name.upcase}
  %li
    %a{ href: url("/event/#{@team.event.id}/teams") } Teams
  %li.active
    #{@team.name.capitalize}

.col-md-4
  .panel.panel-default
    %table.table.table-condensed
      %thead
        %tr
          %th{ colspan: 8 }
            %span.edit_team.clickable#span_name{ data: { id: 'name' } }
              #{@team.name.capitalize}
              %small
                %i.fa.fa-edit.pull-right
            %input.form-control.edit_team.hidden#name
      %tbody
        %tr
          %th Captain
          %td
            %span.edit_team.clickable#span_captain{ data: { id: 'captain' } }
              #{@team.captain}
              %small
                %i.fa.fa-edit.pull-right
            %input.form-control.edit_team.hidden#captain
        %tr
          %th Email
          %td
            %span.edit_team.clickable#span_email_address{ data: { id: 'email_address' } }
              #{@team.email_address}
              %small
                %i.fa.fa-edit.pull-right
            %input.form-control.edit_team.hidden#email_address
        %tr
          %th Mobile
          %td
            %span.edit_team.clickable#span_mobile_number{ data: { id: 'mobile_number' } }
              #{@team.mobile_number}
              %small
                %i.fa.fa-edit.pull-right
            %input.form-control.edit_team.hidden#mobile_number
        %tr
          %th Group
          %td
            %span#span_group
              #{@team.group}

.row
%h4 Roster
%table.table
  %thead
    %tr
      %th Seed
      %th Player <small>(click to edit)</small>
  %tbody
    - @team.event.team_seeds.each_with_index do |seed, index|
      %tr
        %td #{seed.capitalize}
        %td
          - player = Player[team_id: @team.id, seed: seed].nil? ? nil : Player[team_id: @team.id, seed: seed].name
          %span.edit_seed.clickable#span{ id: seed, data: { seed: seed } }
            #{player}
            %small
              %i.fa.fa-pencil.pull-right
          %input.form-control.edit_seed#input{ id: seed, name: seed, data: { seed: seed }, class: player.nil? ? '' : 'hidden' }

:javascript
  $('.edit_seed').change(function(e) {
    var new_name = $(this).val();
    $.post('/player/update', { seed: this.dataset.seed, team_id: #{@team.id}, name: new_name });
    $(this).addClass('hidden');
    $('#span_' + this.dataset.seed).removeClass('hidden').html(new_name + '<small><i class="fa fa-pencil pull-right"></i></small>');
  });

  $('.edit_seed').blur(function(e) {
    $(this).addClass('hidden');
    $('#span_' + this.dataset.seed).removeClass('hidden');
  });

  $('.edit_seed').click(function(e) {
    console.log(this);
    $(this).addClass('hidden');
    $('#input_' + this.dataset.seed).removeClass('hidden').focus();
  });

  $('.edit_team').click(function(e) {
    console.log(this);
    $(this).addClass('hidden');
    $('#' + this.dataset.id).removeClass('hidden').focus();
  });

  $('.edit_team').blur(function(e) {
    $('span#span_' + $(this).attr('id')).removeClass('hidden');
    $(this).addClass('hidden');
  });

  $('.edit_team').change(function(e) {
    console.log('change: ', this);
    var myid = $(this).attr('id');
    $(this).addClass('hidden');
    $.post("/team/#{@team.id}/settings/update", { team_id: #{@team.id}, setting: myid, value: $(this).val() });
    $('span#span_' + $(this).attr('id')).removeClass('hidden').html($(this).val() + '<small><i class="fa fa-edit pull-right"></i></small>');
  });
